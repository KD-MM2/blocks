{
    "id": "changelog8",
    "access": "pro",
    "weight": 999,
    "disabled": false,
    "draft": false,
    "screenshot": "changelog8.jpg",
    "thumbnail": "changelog8-4x3.webp",
    "description": "A component displaying a changelog with a scrollspy sidebar. Features dynamic scroll highlighting & smooth navigation to sections.",
    "createdAt": [
        3,
        "2025-02-21T01:07:30.380Z"
    ],
    "dependencies": [
        "react"
    ],
    "registryDependencies": [
        {
            "name": "badge",
            "registryId": "shadcn",
            "registryItemUrl": "badge",
            "docsUrl": "https://ui.shadcn.com/docs/components/badge"
        },
        {
            "name": "scroll-area",
            "registryId": "shadcn",
            "registryItemUrl": "scroll-area",
            "docsUrl": "https://ui.shadcn.com/docs/components/scroll-area"
        },
        {
            "name": "separator",
            "registryId": "shadcn",
            "registryItemUrl": "separator",
            "docsUrl": "https://ui.shadcn.com/docs/components/separator"
        }
    ],
    "attrs": {
        "type": "block",
        "group": [
            "changelog"
        ],
        "price": [
            "pro"
        ],
        "release": [
            "Mar 2025"
        ],
        "registryIds": [
            "shadcn"
        ]
    },
    "figma": false,
    "slug": "changelog8",
    "collection": "block",
    "group": "changelog",
    "code": "\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Separator } from \"@/components/ui/separator\";\n\nexport type ChangelogEntry = {\n  version: string;\n  date: string;\n  title: string;\n  description: string;\n  items?: string[];\n  image?: string;\n};\n\nexport interface Changelog8Props {\n  title?: string;\n  description?: string;\n  entries?: ChangelogEntry[];\n  className?: string;\n}\n\nconst Changelog8 = ({\n  title = \"Changelog\",\n  description = \"Get the latest updates and improvements to our platform.\",\n  entries = defaultChangelogData,\n}: Changelog8Props) => {\n  const [activeId, setActiveId] = useState<number | null>(null);\n  const sectionRefs = useRef<Array<HTMLDivElement | null>>([]);\n\n  useEffect(() => {\n    sectionRefs.current = sectionRefs.current.slice(0, entries.length);\n\n    const handleScroll = () => {\n      const scrollPosition = window.scrollY + 100; // Adding offset to improve usability\n\n      // Find the section that is currently in view\n      const currentSectionIndex = sectionRefs.current.findIndex(\n        (ref, index) => {\n          if (!ref) return false;\n\n          const nextRef = sectionRefs.current[index + 1];\n          const refTop = ref.offsetTop;\n          const refBottom = nextRef\n            ? nextRef.offsetTop\n            : document.body.scrollHeight;\n\n          return scrollPosition >= refTop && scrollPosition < refBottom;\n        },\n      );\n\n      if (currentSectionIndex !== -1) {\n        setActiveId(currentSectionIndex);\n      } else if (scrollPosition < (sectionRefs.current[0]?.offsetTop || 0)) {\n        setActiveId(null);\n      }\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n    handleScroll(); // Initialize on mount\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [entries.length]);\n\n  const scrollToSection = (index: number) => {\n    const sectionRef = sectionRefs.current[index];\n    if (sectionRef) {\n      window.scrollTo({\n        top: sectionRef.offsetTop - 80,\n        behavior: \"smooth\",\n      });\n    }\n  };\n\n  // Correct way to set refs for linter\n  const setRef = (index: number) => (el: HTMLDivElement | null) => {\n    sectionRefs.current[index] = el;\n  };\n\n  return (\n    <section className=\"bg-background py-24 md:py-32\">\n      <div className=\"relative container flex flex-col lg:flex-row\">\n        {/* Header for mobile */}\n        <div className=\"mb-12 lg:hidden\">\n          <h1 className=\"mb-4 text-3xl font-bold tracking-tight md:text-4xl\">\n            {title}\n          </h1>\n          <p className=\"text-base text-muted-foreground md:text-lg\">\n            {description}\n          </p>\n          <Separator className=\"mt-8\" />\n        </div>\n\n        {/* Scrollspy sidebar */}\n        <div className=\"sticky top-24 hidden h-fit w-72 overflow-visible pr-10 lg:block\">\n          <div className=\"mb-10\">\n            <h1 className=\"mb-3 text-3xl font-bold tracking-tight\">{title}</h1>\n            <p className=\"text-base text-muted-foreground\">{description}</p>\n          </div>\n          <Separator className=\"mb-6\" />\n          <ScrollArea className=\"h-[calc(100vh-300px)]\">\n            <div className=\"pb-6\">\n              <h3 className=\"mb-5 text-sm font-medium tracking-wider text-muted-foreground uppercase\">\n                On this page\n              </h3>\n              <nav className=\"flex flex-col space-y-2.5\">\n                {entries.map((entry, index) => (\n                  <button\n                    key={index}\n                    onClick={() => scrollToSection(index)}\n                    className={cn(\n                      \"group flex flex-col gap-2 rounded-md border border-transparent px-3 py-2 text-left transition-all hover:border-border hover:bg-accent\",\n                      activeId === index\n                        ? \"border-border bg-accent font-medium text-foreground shadow-sm\"\n                        : \"text-muted-foreground\",\n                    )}\n                  >\n                    <span className=\"text-sm\">{entry.title}</span>\n                    <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                      <span className=\"font-medium\">{entry.version}</span>\n                      <span>\u2022</span>\n                      <span>{entry.date}</span>\n                    </div>\n                  </button>\n                ))}\n              </nav>\n            </div>\n          </ScrollArea>\n        </div>\n\n        {/* Main content */}\n        <div className=\"flex-1 lg:pl-10\">\n          <div className=\"mb-10 hidden lg:block\">\n            <h2 className=\"text-xl font-semibold\">Latest updates</h2>\n          </div>\n          <div className=\"space-y-16 md:space-y-24\">\n            {entries.map((entry, index) => (\n              <div\n                key={index}\n                ref={setRef(index)}\n                className=\"relative flex flex-col gap-6 border-l-4 border-l-border/30 pl-6 transition-colors hover:border-l-border md:gap-8\"\n                id={`entry-${index}`}\n              >\n                <div className=\"flex flex-wrap items-center gap-3\">\n                  <Badge\n                    variant=\"secondary\"\n                    className=\"px-3 py-1 text-xs font-medium\"\n                  >\n                    {entry.version}\n                  </Badge>\n                  <span className=\"text-xs font-medium text-muted-foreground\">\n                    {entry.date}\n                  </span>\n                </div>\n                <div>\n                  <h2 className=\"mb-4 text-xl leading-tight font-bold text-foreground md:text-2xl\">\n                    {entry.title}\n                  </h2>\n                  <p className=\"mb-6 text-base text-muted-foreground md:text-base\">\n                    {entry.description}\n                  </p>\n                  {entry.items && entry.items.length > 0 && (\n                    <div className=\"mt-6 rounded-lg border bg-muted/30 p-5\">\n                      <h3 className=\"mb-3 text-sm font-medium\">\n                        What's included:\n                      </h3>\n                      <ul className=\"space-y-2 text-sm text-muted-foreground\">\n                        {entry.items.map((item, itemIndex) => (\n                          <li key={itemIndex} className=\"flex items-start\">\n                            <span className=\"mt-1 mr-2 h-1.5 w-1.5 shrink-0 rounded-full bg-primary\" />\n                            <span>{item}</span>\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  )}\n                  {entry.image && (\n                    <div className=\"mt-8 overflow-hidden rounded-xl border\">\n                      <img\n                        src={entry.image}\n                        alt={`${entry.version} visual`}\n                        className=\"w-full object-cover transition-transform hover:scale-105\"\n                      />\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport { Changelog8 };\n\nexport const defaultChangelogData: ChangelogEntry[] = [\n  {\n    version: \"Version 1.3.0\",\n    date: \"15 November 2024\",\n    title: \"Enhanced Analytics Dashboard\",\n    description:\n      \"We've completely redesigned our analytics dashboard to provide deeper insights and improved visualizations of your data.\",\n    items: [\n      \"Interactive data visualizations with real-time updates\",\n      \"Customizable dashboard widgets\",\n      \"Export analytics in multiple formats (CSV, PDF, Excel)\",\n      \"New reporting templates for common use cases\",\n      \"Improved data filtering and segmentation options\",\n    ],\n    image: \"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/placeholder-aspect-video-1.svg\",\n  },\n  {\n    version: \"Version 1.2.5\",\n    date: \"7 October 2024\",\n    title: \"Mobile App Launch\",\n    description:\n      \"We're excited to announce the launch of our mobile application, available now on iOS and Android platforms.\",\n    items: [\n      \"Native mobile experience for on-the-go productivity\",\n      \"Offline mode support for working without internet connection\",\n      \"Push notifications for important updates\",\n      \"Biometric authentication for enhanced security\",\n    ],\n    image: \"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/placeholder-aspect-video-1.svg\",\n  },\n];\n"
}